# iOS Contacts CLI

**iOS Contacts CLI** ‚Äî —ç—Ç–æ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —Å Jailbreak. 

–û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç **–º–∞—Å—Å–æ–≤–æ –¥–æ–±–∞–≤–ª—è—Ç—å** –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –∏–ª–∏ **–ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞—Ç—å** –∞–¥—Ä–µ—Å–Ω—É—é –∫–Ω–∏–≥—É –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π —á–µ—Ä–µ–∑ SSH –∏–ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–∞–ø–∏—Å–∞–Ω–∞ –Ω–∞ Objective-C –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ entitlements –¥–ª—è –æ–±—Ö–æ–¥–∞ –∑–∞—â–∏—Ç—ã TCC (–∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º).

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **–ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –Ω–æ–º–µ—Ä–æ–≤ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (–∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏).
*   **–ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞:** –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∏–∑ –∞–¥—Ä–µ—Å–Ω–æ–π –∫–Ω–∏–≥–∏.
*   **–û–±—Ö–æ–¥ TCC:** –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –≤—Å–ø–ª—ã–≤–∞—é—â–∏—Ö –æ–∫–æ–Ω "–†–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º" (–±–ª–∞–≥–æ–¥–∞—Ä—è `ent.xml`).
*   **–°–∫–æ—Ä–æ—Å—Ç—å:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞—Ç–∏–≤–Ω—ã–π `Contacts.framework`, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç 50+ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –∑–∞ –¥–æ–ª–∏ —Å–µ–∫—É–Ω–¥—ã.
*   **–ë–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç Python, Cycript –∏–ª–∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫. –¢–æ–ª—å–∫–æ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∏–Ω–∞—Ä–Ω–∏–∫.

## üõ† –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

*   **iOS Device** —Å Jailbreak (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ iOS 14, 15, 16 Rootless/Rootful).
*   –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ (–¥–ª—è —Å–±–æ—Ä–∫–∏):
    *   `clang` (–∫–æ–º–ø–∏–ª—è—Ç–æ—Ä)
    *   `ldid` (–∏–ª–∏ `ldid-procursus` –¥–ª—è –ø–æ–¥–ø–∏—Å–∏)
    *   `make` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Sileo / Apt):
```bash
sudo apt update
sudo apt install clang ldid make
```

## üì¶ –°–±–æ—Ä–∫–∞

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –≤–∫–ª—é—á–µ–Ω `Makefile` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏ –ø–æ–¥–ø–∏—Å–∏.

1. –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª—ã –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–∏–ª–∏ —Å–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π).
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
   ```bash
   make
   ```
3. –ì–æ—Ç–æ–≤–æ! –ë–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª `contacts` —Å–æ–∑–¥–∞–Ω –∏ –ø–æ–¥–ø–∏—Å–∞–Ω.

*–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å:* `make rebuild`

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ò–º–ø–æ—Ä—Ç –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–ª–∞–≥ `-i` –∏ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ –Ω–æ–º–µ—Ä–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª. –ò–º–µ–Ω–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Bot User 1234`).

```bash
./contacts -i +79001112233 +79004445566 +15550199
```
*–í—ã–≤–æ–¥:*
`Saving 3 contacts...`
`SUCCESS: Contacts imported.`

### –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–ª–∞–≥ `-d`. **–í–Ω–∏–º–∞–Ω–∏–µ:** –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.

```bash
./contacts -d
```
*–í—ã–≤–æ–¥:*
`Found 52 contacts. Deleting...`
`SUCCESS: All contacts deleted.`

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö (Bash)
–ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –Ω–æ–º–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ —Ü–∏–∫–ª:

```bash
#!/bin/bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä–æ–∫–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
NUMBERS=""
for i in {10..50}; do
    NUMBERS="$NUMBERS +799900000$i"
done

# –ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç
./contacts -i $NUMBERS
```

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏

**Error: Communication Error (Code 500)**
*   **–ü—Ä–∏—á–∏–Ω–∞:** –£ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞ –Ω–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–µ–º–æ–Ω—É –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤.
*   **–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `ent.xml` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ. –ï—Å–ª–∏ –≤—ã –ø–µ—Ä–µ–º–µ—â–∞–ª–∏ –±–∏–Ω–∞—Ä–Ω–∏–∫, –ø–µ—Ä–µ–ø–æ–¥–ø–∏—à–∏—Ç–µ –µ–≥–æ:
    ```bash
    ldid -Sent.xml contacts
    ```
    –ò–Ω–æ–≥–¥–∞ –ø–æ–º–æ–≥–∞–µ—Ç —Å–±—Ä–æ—Å –ø—Ä–∞–≤ TCC: `tccutil reset AddressBook`.

**zsh: killed (Killed: 9)**
*   **–ü—Ä–∏—á–∏–Ω–∞:** –ë–∏–Ω–∞—Ä–Ω–∏–∫ –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω –∏–ª–∏ –ø–æ–¥–ø–∏—Å—å –Ω–µ–≤–∞–ª–∏–¥–Ω–∞ –¥–ª—è –≤–∞—à–µ–π –≤–µ—Ä—Å–∏–∏ iOS.
*   **–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `ldid` (–∏–ª–∏ `ldid-procursus`) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `make`.

## üìÑ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

*   `contacts.m` ‚Äî –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (Objective-C).
*   `ent.xml` ‚Äî –§–∞–π–ª –ø—Ä–∞–≤ (Entitlements) –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ `kTCCServiceAddressBook`.
*   `Makefile` ‚Äî –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏.

## ‚öñÔ∏è –õ–∏—Ü–µ–Ω–∑–∏—è

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫. –ê–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∞–¥—Ä–µ—Å–Ω–æ–π –∫–Ω–∏–≥–∏. –î–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã!